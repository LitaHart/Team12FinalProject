<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.team12.main.team1.shop.Cartteam1Mapper">

	<!--  *****컬럼네임 수정****** -->

	<!-- 카트 추가 -->
	<insert id="addCart" parameterType="com.team12.main.team1.shop.CartDTO">
	insert into cartTbl values (cart_sequence.nextval, #{Cart_userID}, #{cart_product_Num}, #{Cart_ProductQuantity}, sysdate)
	</insert>






	<!-- 카트 삭제 -->
	<delete id="deleteCart">
		delete from cartTbl where Num_PK = #{num_PK}
	</delete>

	<!-- 카트 수량 수정 -->
	<update id="modifyCount">

		update vam_cart set bookCount=#{bookCount} where cartId = #{cartId}

	</update>


	<!-- 카트 목록 -->
	<select id="getCart" resultType="com.team12.main.team1.shop.CartDTO">

		select a.cartId, a.memberId, a.bookId, a.bookCount, b.bookName, b.bookPrice,
		b.bookDiscount
		from vam_cart a left outer join vam_book b on a.bookId =
		b.bookId
		where memberId = #{memberId}

	</select>

	<!-- 카트 확인 -->
	<select id="checkCart" resultType="com.team12.main.team1.shop.CartDTO">

		select * from vam_cart
		where memberId = #{memberId} and bookId = #{bookId}

	</select>



</mapper>